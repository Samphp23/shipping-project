# CI/CD pipeline from GitHub to Azure DevOps

trigger:
  branches:
    include:
      - main   # pipeline runs on every push to main branch

pool:
  vmImage: 'ubuntu-latest'

variables:
  pythonVersion: '3.x'

jobs:
- job: BuildAndRun
  displayName: Build and Run Python Scripts
  steps:
    # Step 1: Set up Python
    - task: UsePythonVersion@0
      inputs:
        versionSpec: $(pythonVersion)

    # Step 2: Install dependencies
    - script: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt
      displayName: Install Dependencies

    # Step 3: Run your driver script (which calls other scripts)
    - script: |
        python orchestration.py
      displayName: Run Orchestration Script
